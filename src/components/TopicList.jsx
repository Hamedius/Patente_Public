import React from 'react'

// ترجمه‌های دستی بر اساس شماره ابتدای عنوان
const manualFa = {
  '1': '۱ - تعاریف کلی و الزامات استفاده از جاده',
  '2': '۲ - علائم خطر',
  '3': '۳ - تابلوهای جاده‌ای ممنوعیت',
  '4': '۴ - علائم جاده‌ای اجباری',
  '5': '۵ - علائم راهنمای اولویت',
  '6': '۶ - علائم و نشانه‌های افقی جاده روی موانع',
  '7': '۷ - چراغ راهنمایی و علائم افسر راهنمایی و رانندگی',
  '8': '۸ - علائم جهت‌یابی',
  '9': '۹ - تابلوهای علائم تکمیلی',
  '10': '۱۰ - علائم اضافی، علائم موقت و علائم محل ساخت و ساز',
  '11': '۱۱ - محدودیت سرعت، خطر و مانع ترافیک',
  '12': '۱۲ - فاصله ایمنی',
  '13': '۱۳ - مقررات راهنمایی و رانندگی',
  '14': '۱۴ - نمونه‌هایی از اولویت (ترتیب تقدم در تقاطع‌ها)',
  '15': '۱۵ - قوانین سبقت',
  '16': '۱۶ - توقف، پارک، توقف و شروع حرکت',
  '17': '۱۷ - قوانین متفرقه',
  '18': '۱۸ - استفاده از چراغ‌ها و دستگاه‌های صوتی، چراغ‌های هشدار دهنده و نمادها',
  '19': '۱۹ - تجهیزات، عملکرد و نحوه استفاده (کمربند ایمنی) ایمنی، سیستم‌های مهار کودک، کلاه ایمنی محافظ و لباس ایمنی',
  '20': '۲۰ - گواهینامه رانندگی، سیستم جریمه، اسناد ثبت خودرو، تعهدات نسبت به پلیس، استفاده از لنزها و سایر وسایل',
  '21': '۲۱ - تصادفات جاده‌ای و رفتار در صورت تصادف',
  '22': '۲۲ - رانندگی با توجه به شرایط و ویژگی‌های جسمی و روانی، الکل، مواد مخدر، داروها و کمک‌های اولیه',
  '23': '۲۳ - مسئولیت مدنی، کیفری و اداری، بیمه مسئولیت شخص ثالث و سایر بیمه‌نامه‌های مرتبط با خودرو',
  '24': '۲۴ - محدودیت مصرف سوخت، احترام به محیط زیست و آلودگی',
  '25': '۲۵ - اجزای خودرو، نگهداری و استفاده، پایداری و کنترل جاده، رفتار و اقدامات احتیاطی رانندگی',
}

// فهرست موضوع‌ها: عنوان ایتالیایی (نام فایل بدون .json) + ترجمهٔ فارسی دستی
export default function TopicList({ topics = [], onPick }) {
  // مدیریت اسکرول در App.jsx انجام می‌شود؛ اینجا نیازی به اثر نیست.
  return (
    <div className="max-w-3xl mx-auto px-4 py-6">
      <div className="space-y-3">
        {topics.map((t, i) => {
          const file = String(t.file || '')
          const label = file.replace(/\.json$/i, '') // حذف .json
          const num = (label.match(/^\d+/) || [])[0] || ''
          const fa = manualFa[num] || null
          return (
            <button
              key={t.id || i}
              onClick={() => onPick(i)}
              className="w-full text-left rounded-lg border border-blue-200 bg-white hover:bg-blue-50 px-4 py-3"
              style={{ direction: 'ltr', textAlign: 'left', whiteSpace: 'normal' }}
              title={label}
            >
              <div className="text-blue-700 font-medium break-words">{label}</div>
              <div className="text-sm text-gray-700 mt-2 text-right leading-6" dir="rtl">
                {fa ?? '—'}
              </div>
            </button>
          )
        })}
      </div>
    </div>
  )
}